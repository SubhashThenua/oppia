<div class="new-learner-dashboard">
<div [ngStyle]="{'min-height': TabletView ? '85.5vh': 'auto'}"
     class="oppia-learner-dashboard-container position-relative">
  <div class="oppia-learner-dashboard-content-container oppia-row"
       [ngStyle]="TabletView ? {'display': 'block'} : {'display': 'flex'}"
       [ngClass]="{'oppia-learner-dashboard-mobile-mode': TabletView}">
    <div class="oppia-learner-dashboard-side-content"
         *ngIf="!TabletView">
      <mat-card class="oppia-learner-dashboard-main-menu">
        <picture *ngIf="profilePicturePngDataUrl">
            <source type="image/webp" [srcset]="profilePictureWebpDataUrl">
            <source type="image/png" [srcset]="profilePicturePngDataUrl">
            <img [src]="profilePicturePngDataUrl"
                 class="oppia-learner-dashboard-menu-profile-picture rounded-circle"
                 alt="User profile picture">
          </picture>
        <h4 class="oppia-learner-dashboard-menu oppia-learner-dashborad-menu-hover e2e-test-home-section" tabindex="0"
            [ngClass]="{'oppia-learner-dashboard-section-active': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME}"
            (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME)"
            (keyup.enter)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME)">
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME | translate"></span>
        </h4>
        <h4 class="oppia-learner-dashboard-menu oppia-learner-dashborad-menu-hover e2e-test-goals-section" tabindex="0"
            [ngClass]="{'oppia-learner-dashboard-section-active': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS}"
            (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS)"
            (keyup.enter)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS)">
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS | translate"></span>
        </h4>
        <h4 class="oppia-learner-dashboard-menu oppia-learner-dashborad-menu-hover e2e-test-progress-section" tabindex="0"
            [ngClass]="{'oppia-learner-dashboard-section-active': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS}"
            (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS)"
            (keyup.enter)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS)" >
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS | translate"></span>
        </h4>
        <h4 class="oppia-learner-dashboard-menu oppia-learner-dashborad-menu-hover e2e-test-learner-groups-section" tabindex="0"
            [ngClass]="{'oppia-learner-dashboard-section-active': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.LEARNER_GROUPS}"
            *ngIf="LEARNER_GROUP_FEATURE_IS_ENABLED"
            (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.LEARNER_GROUPS)"
            (keyup.enter)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.LEARNER_GROUPS)" >
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.LEARNER_GROUPS | translate"></span>
        </h4>
        <h4 class="oppia-learner-dashboard-menu oppia-learner-dashborad-menu-hover e2e-test-community-lessons-section" tabindex="0"
            [ngClass]="{'oppia-learner-dashboard-section-active': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.COMMUNITY_LESSONS}"
            (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.COMMUNITY_LESSONS)"
            (keyup.enter)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.COMMUNITY_LESSONS)">
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.COMMUNITY_LESSONS | translate"></span>
        </h4>
      </mat-card>
    </div>
    <div class="oppia-learner-dashboard-buttons" *ngIf="TabletView">
      <mat-card class="oppia-learner-dashboard-button-menu">
        <div class="oppia-buttons" (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME)" [ngClass]="{'oppia-active-tab': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME}">
          <img [src]="homeImageUrl" alt="home image" class="oppia-svg-image" [ngClass]="{'oppia-learner-dashboard-section-active-button-window-narrow': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME, 'oppia-learner-dashboard-section-not-active-button': activeSection !== LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME}">
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME | translate" class="home-button"></span>
        </div>
        <div class="oppia-buttons" (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS)" [ngClass]="{'oppia-active-tab': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS}">
          <img [src]="todolistImageUrl" alt="todolist image" class="oppia-svg-image" [ngClass]="{'oppia-learner-dashboard-section-active-button-window-narrow': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS, 'oppia-learner-dashboard-section-not-active-button': activeSection !== LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS}">
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS | translate" class="goals-button"></span>
        </div>
        <div class="oppia-buttons" (click)="setActiveSection(LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS)" [ngClass]="{'oppia-active-tab': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS}">
          <img [src]="progressImageUrl" alt="progress image" class="oppia-svg-image" [ngClass]="{'oppia-learner-dashboard-section-active-button-window-narrow': activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS, 'oppia-learner-dashboard-section-not-active-button': activeSection !== LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS}">
          <span [innerHTML]="LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS | translate" class="progress-button"></span>
        </div>
      </mat-card>
    </div>


    <div class="oppia-learner-dashboard-main-content"
         [ngClass]="{'oppia-learner-dashboard-mobile-mode': TabletView}">
        <div *ngIf="activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.HOME">
          <oppia-home-tab [currentGoals]="topicsToLearn"
                          [goalTopics]="allTopics"
                          [partiallyLearntTopicsList]="partiallyLearntTopicsList"
                          [incompleteExplorationsList]="incompleteExplorationsList"
                          [completedExplorationsList]="completedExplorationsList"
                          [learnerGroupFeatureIsEnable]="LEARNER_GROUP_FEATURE_IS_ENABLED"
                          [untrackedTopics]="untrackedTopics"
                          [username]="username"
                          [explorationPlaylist]="explorationPlaylist"
                          [collectionPlaylist]="collectionPlaylist"
                          [storyIdToLearnerGroupsTitleMap]="storyIdToLearnerGroupsTitleMap"
                          (setActiveSection)="setActiveSection($event)">
          </oppia-home-tab>
        </div>
        <div *ngIf="activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.GOALS">
          <oppia-goals-tab [currentGoals]="topicsToLearn"
                           [editGoals]="allTopics"
                           [completedGoals]="learntTopicsList"
                           [untrackedTopics]="untrackedTopics"
                           [partiallyLearntTopicsList]="partiallyLearntTopicsList"
                           [learntToPartiallyLearntTopics]="learntToPartiallyLearntTopics">
          </oppia-goals-tab>
        </div>
        <div *ngIf="activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS && !TabletView">
          <oppia-progress-tab [completedStoriesList]="completedStoriesList"
                              [partiallyLearntTopicsList]="partiallyLearntTopicsList"
                              [learntTopicsList]="learntTopicsList"
                              (setActiveSection)="setActiveSection($event)">
          </oppia-progress-tab>
        </div>
        <div *ngIf="activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS && TabletView">
          <oppia-progress-tab [completedStoriesList]="completedStoriesList"
                              [partiallyLearntTopicsList]="partiallyLearntTopicsList"
                              [learntTopicsList]="learntTopicsList"
                              [activeSubsection]="activeSubsection">
          </oppia-progress-tab>
        </div>
        <div *ngIf="activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.LEARNER_GROUPS && LEARNER_GROUP_FEATURE_IS_ENABLED">
          <oppia-learner-groups-tab [username]="username"
                                    (setActiveSection)="setActiveSection($event)">
          </oppia-learner-groups-tab>
        </div>
        <div *ngIf="((!TabletView && activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.COMMUNITY_LESSONS) || (TabletView && activeSection === LEARNER_DASHBOARD_SECTION_I18N_IDS.PROGRESS && activeSubsection === LEARNER_DASHBOARD_SUBSECTION_I18N_IDS.LESSONS)) && communtiyLessonsDataLoaded">
          <oppia-community-lessons-tab [incompleteExplorationsList]="incompleteExplorationsList"
                                       [incompleteCollectionsList]="incompleteCollectionsList"
                                       [completedExplorationsList]="completedExplorationsList"
                                       [completedCollectionsList]="completedCollectionsList"
                                       [explorationPlaylist]="explorationPlaylist"
                                       [collectionPlaylist]="collectionPlaylist"
                                       [subscriptionsList]="subscriptionsList"
                                       [completedToIncompleteCollections]="completedToIncompleteCollections">
          </oppia-community-lessons-tab>
        </div>
    </div>
  </div>
</div>
</div>
<style>
  .oppia-profile-alignment {
    vertical-align: middle;
  }
  .oppia-box-size {
    padding: 2px 10px;
  }
</style>